(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DashboardCourseDetail"],{"10b2":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard-content"},[s("UploadList"),s("DashboardNavbar",{on:{toggleSidebar:function(e){t.sidebar=!t.sidebar}}}),s("b-container",{staticClass:"px-xl-4",attrs:{fluid:""}},[s("div",{staticClass:"py-5"},[s("b-row",[s("b-col",{staticClass:"d-none d-lg-block",attrs:{lg:"3"}},[s("DashboardSidebar")],1),s("b-col",{attrs:{lg:"9"}},[t._t("default")],2)],1)],1)]),s("b-sidebar",{attrs:{"bg-variant":"light","backdrop-variant":"dark",backdrop:"",shadow:"","header-class":"border-bottom"},scopedSlots:t._u([{key:"header",fn:function(e){var a=e.hide;return[s("div",{staticClass:"d-flex align-items-center justify-content-between w-100"},[s("img",{staticClass:"d-inline-block align-top",attrs:{src:t.appLogo,alt:"Academy",height:"35"}}),s("span",{staticClass:"p-2 c-pointer",on:{click:a}},[t._v("×")])])]}}]),model:{value:t.sidebar,callback:function(e){t.sidebar=e},expression:"sidebar"}},[s("DashboardLinks")],1)],1)},r=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topbar px-2 shadow-sm"},[s("div",{staticClass:"d-flex align-items-center pl-3"},[s("b-navbar-brand",{attrs:{to:"/"}},[s("img",{staticClass:"d-inline-block align-top",attrs:{src:t.appLogo,alt:"Academy",height:"35"}})])],1),s("div",{staticClass:"d-flex content"},[s("b-dropdown",{attrs:{variant:"link","toggle-class":"text-decoration-none px-0","no-caret":"",right:"",size:"lg",lazy:"","menu-class":"py-0"},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("div",{staticClass:"user"},[s("img",{attrs:{src:t.userImageURL+"/"+t.me.image,alt:""}})])]},proxy:!0}])},[s("b-dd-header",[t._v(" "+t._s(t.me.username)+" ")]),s("b-dropdown-item",{directives:[{name:"b-toggle",rawName:"v-b-toggle.userProfile",modifiers:{userProfile:!0}}],attrs:{"link-class":"py-2"}},[t._v("Profile")]),s("hr",{staticClass:"m-0"}),s("b-dropdown-item-btn",{attrs:{variant:"danger","button-class":"py-2"},on:{click:function(e){return t.$store.commit("Auth/logout")}}},[s("span",{staticClass:"pr-2"},[s("b-icon",{attrs:{icon:"box-arrow-in-left",scale:"1.5"}})],1),t._v(" Logout ")])],1),s("div",{staticClass:"toggle d-flex d-lg-none",on:{click:t.toggleMenu}},[s("b-icon",{attrs:{icon:"menu-button-wide",scale:"1.8"}})],1)],1)])},o=[],i={methods:{toggleMenu:function(){this.$emit("toggleSidebar")}}},c=i,l=(s("26b1"),s("2877")),u=Object(l["a"])(c,n,o,!1,null,"420c30ca",null),d=u.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-collapse",{attrs:{is_nav:"",visible:""}},[s("div",{staticClass:"sidebar-dashboard"},[s("b-card",{staticClass:"shadow-sm d-none d-lg-flex"},[s("div",{staticClass:"d-flex flex-column align-items-center"},[s("b-avatar",{attrs:{src:t.userImageURL+"/"+t.me.image,size:"6rem"}}),s("span",{staticClass:"mt-3 font-weight-600 text-muted"},[t._v(t._s(t.me.username))])],1)]),s("b-card",{staticClass:"mt-30px shadow-sm",attrs:{"body-class":"p-0"}},[s("Dashboard-links")],1)],1)])},b=[],m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"sidebar-list list-unstyled mb-0"},t._l(t.items,(function(e,a){return s("li",{key:a,staticClass:"sidebar-item"},[s("router-link",{staticClass:"p-3 d-flex align-items-center text-decoration-none",attrs:{to:e.path,exact:0==a}},[s("h4",{staticClass:"mb-0 mr-3"},[s("b-icon",{attrs:{icon:e.icon}})],1),s("span",{},[t._v(t._s(e.text))])])],1)})),0)},f=[],h={data:function(){return{items:[{text:"Dashboard",icon:"grid",path:"/dashboard"},{text:"Courses",icon:"collection",path:"/dashboard/courses"},{text:"Students",icon:"people",path:"/dashboard/students"},{text:"Instructors",icon:"person-plus",path:"/dashboard/instructors"},{text:"Admins",icon:"diagram3",path:"/dashboard/admins"},{text:"Settings",icon:"gear",path:"/dashboard/settings"}]}}},g=h,v=(s("60b9"),Object(l["a"])(g,m,f,!1,null,"45eb850f",null)),C=v.exports,x={components:{DashboardLinks:C}},_=x,y=Object(l["a"])(_,p,b,!1,null,null,null),w=y.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.uploads.length?s("b-dropdown",{attrs:{id:"uploads-list",size:"lg",variant:"link","toggle-class":"text-decoration-none","menu-class":"shadow-lg","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("div",{staticClass:"icon rounded-lg"},[t.countOfNotCompleted?s("b-badge",{staticClass:"position-absolute",attrs:{variant:"danger"}},[t._v(t._s(t.countOfNotCompleted))]):t._e(),s("b-icon",{staticClass:"rounded bg-blue p-2",attrs:{variant:"white",icon:"cloud-upload"}})],1)]},proxy:!0}],null,!1,915584363)},t._l(t.uploads,(function(t,e){return s("b-dropdown-text",{key:e},[s("upload-item",{attrs:{upload:t}})],1)})),1):t._e()},D=[],z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center justify-content-between"},[s("div",{staticClass:"mr-3 rounded-lg"},[s("b-avatar",{staticClass:"shadow-sm",attrs:{src:t.upload.imgSrc,rounded:"lg"}})],1),s("div",{staticStyle:{width:"250px"}},[s("span",[t._v(t._s(t._f("strLength")(t.upload.title,20)))]),s("div",{staticClass:"d-flex align-items-center"},[s("b-progress",{staticClass:"font-weight-700 w-100",attrs:{variant:t.variant}},[s("b-progress-bar",{attrs:{max:100,value:t.upload.progress,label:t.label,"show-progress":"",animated:t.inProgress,striped:t.inProgress}})],1),t.inProgress?t._e():s("span",{staticClass:"h4 mb-0 c-pointer ml-1",on:{click:t.removeUploaded}},[t._v("×")])],1)])])},$=[],L={props:["upload"],computed:{inProgress:function(){return"progress"==this.upload.status},isDone:function(){return"success"==this.upload.status},isFailed:function(){return"error"==this.upload.status},variant:function(){return this.inProgress?"blue":this.isDone?"success":"danger"},label:function(){return this.inProgress?"".concat(this.upload.progress,"%"):this.isDone?"Uploaded successfully":"Upload failed !"}},methods:{removeUploaded:function(){this.$store.commit("removeUpload",this.upload)}}},B=L,S=Object(l["a"])(B,z,$,!1,null,null,null),O=S.exports,j={components:{UploadItem:O},computed:{uploads:function(){return this.$store.state.uploads},countOfNotCompleted:function(){var t=this;return this.uploads.reduce((function(e,s){return t.isCompleted(s)||(e+=1),e}),0)}},methods:{isCompleted:function(t){return 100==t.progress&&"success"==t.status}}},P=j,Q=(s("e814"),Object(l["a"])(P,k,D,!1,null,"2f6da15d",null)),N=Q.exports,R={components:{DashboardNavbar:d,DashboardSidebar:w,DashboardLinks:C,UploadList:N},data:function(){return{sidebar:!1}},methods:{signed:function(){var t=this;setTimeout((function(){return t.$router.go(0)}),300)}}},E=R,I=Object(l["a"])(E,a,r,!1,null,null,null);e["a"]=I.exports},"26b1":function(t,e,s){"use strict";s("dd25")},5281:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-card shadow-sm rounded-lg"},[s("div",{staticClass:"t-card-content d-flex flex-column align-items-center"},[s("div",{staticClass:"t-card-numbers font-weight-600 text-muted"},[t._t("number",(function(){return[t._v(t._s(t.number))]}))],2),s("div",{staticClass:"t-card-name"},[t._t("name",(function(){return[t._v(t._s(t.name))]}))],2)]),s("div",{staticClass:"t-card-icon"},[t._t("icon",(function(){return[t.awesome||""==t.awesome?s("span",[s("i",{class:t.icon})]):s("b-icon",{attrs:{icon:t.icon}})]}))],2)])},r=[],n={props:["name","number","icon","awesome"]},o=n,i=(s("8b0e"),s("2877")),c=Object(i["a"])(o,a,r,!1,null,"5ccd487e",null);e["a"]=c.exports},"5b4a":function(t,e,s){},"60b9":function(t,e,s){"use strict";s("7934")},7178:function(t,e,s){},7934:function(t,e,s){},"8b0e":function(t,e,s){"use strict";s("5b4a")},dd25:function(t,e,s){},e814:function(t,e,s){"use strict";s("7178")},f12b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("dashboard-layout",{staticClass:"courses"},[s("b-breadcrumb",{staticClass:"bg-white border rounded shadow-sm font-weight-600 mb-30px"},[s("b-breadcrumb-item",{attrs:{to:"/dashboard"}},[s("b-icon",{staticClass:"mr-1",attrs:{icon:"house-fill",scale:"1.25","shift-v":"1.25","aria-hidden":"true"}}),t._v(" Dashboard ")],1),s("b-breadcrumb-item",{attrs:{to:"/dashboard/courses"}},[t._v(" Courses ")]),s("b-breadcrumb-item",{attrs:{active:""}},[t._v(" "+t._s(t.course.title)+" ")])],1),s("b-row",{attrs:{cols:"1","cols-md":"3"}},[s("b-col",{staticClass:"mb-4 mb-lg-0"},[s("report-card",{attrs:{name:"Number of Sections",icon:"collection",number:t.course.sectionsCount}})],1),s("b-col",{staticClass:"mb-4 mb-lg-0"},[s("report-card",{attrs:{name:"Number of Lectures",icon:"bricks",number:t.course.lecturesCount}})],1),s("b-col",{staticClass:"mb-4 mb-lg-0"},[s("report-card",{attrs:{name:"Number of Students",icon:"people",number:t.course.studentsCount}})],1)],1),s("b-row",{staticClass:"mt-lg-30px"},[s("b-col",{staticClass:"mt-30px mt-lg-0",attrs:{lg:"8",md:"12",order:"2","order-lg":"1"}},[s("CourseDetailSections")],1),s("b-col",{attrs:{lg:"4",md:"12",order:"1","order-lg":"2"}},[s("CourseDetailStudents")],1),s("b-col",{staticClass:"mt-30px",attrs:{cols:"12",order:"3"}},[s("CourseDetailLectures")],1)],1)],1)},r=[],n=s("1da1"),o=(s("96cf"),s("5281")),i=s("10b2"),c=s("4e3e"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{staticClass:"h-100",attrs:{"no-body":"",header:"Students","header-class":"h5 font-weight-bold"}},[s("b-table",{staticClass:"mb-3",attrs:{hover:"",responsive:"","sort-by":t.sortBy,"sort-desc":t.sortDesc,"per-page":t.perPage,"current-page":1,items:t.course.students,fields:t.fields,"thead-class":"d-none",size:"sm"},on:{"context-changed":t.contextChanged,"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(image)",fn:function(e){return[s("b-avatar",{attrs:{src:t.userImageURL+"/"+e.value,size:"2.2rem"}})]}}])}),s("b-row",{staticClass:"mt-auto",attrs:{cols:"1","cols-md":"6"}},[s("b-col",[s("b-pagination",{staticClass:"pagination mt-auto px-2",attrs:{limit:"3","total-rows":t.course.studentsCount,"per-page":t.perPage,align:"fill",size:"sm",pills:""},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)},u=[],d=(s("99af"),{data:function(){return{page:1,perPage:5,sortBy:"createdAt",sortDesc:!0,fields:[{key:"image",label:"Image"},{key:"username",label:"Name",tdClass:"align-middle"}]}},computed:{course:function(){return this.$store.state.Course.detail},sortDir:function(){return this.sortDesc?"desc":"asc"}},watch:{page:function(){this.finallData()},perPage:function(){this.page=1}},methods:{contextChanged:function(t){this.sortBy=t.sortBy,this.sortDesc=t.sortDesc,this.finallData()},finallData:function(){var t=this;this.tableIsBusy=!0,this.getStudents(),this.$nextTick((function(){t.tableIsBusy=!1}))},getStudents:function(){var t="?page=".concat(this.page,"&per_page=").concat(this.perPage,"&sort_by=").concat(this.sortBy,"&sort_dir=").concat(this.sortDir);this.$store.dispatch("Course/getCourseDetailStudents",t)}}}),p=d,b=s("2877"),m=Object(b["a"])(p,l,u,!1,null,"2886f2a6",null),f=m.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{staticClass:"h-100",attrs:{"no-body":"",header:"Sections","header-class":"h5 font-weight-bold"}},[s("b-table",{staticClass:"mb-3 text-center",attrs:{hover:"",responsive:"","sort-by":t.sortBy,"sort-desc":t.sortDesc,"per-page":t.perPage,"current-page":t.page,items:t.sections,fields:t.fields,stacked:"md"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(title)",fn:function(e){return[t._v(" "+t._s(t._f("wordtruncate")(e.value,5))+" ")]}},{key:"cell(lecturesCount)",fn:function(e){return[t._v(" "+t._s(e.value||0)+" ")]}},{key:"cell(hasQuiz)",fn:function(e){return[t._v(" "+t._s(e.value?"Yes":"No")+" ")]}},{key:"cell(actions)",fn:function(e){return[s("span",{staticClass:"w-50 d-inline-block text-right"},[e.item.hasQuiz?s("b-btn",{staticClass:"mr-3",attrs:{size:"sm",variant:"outline-success"}},[t._v("Quiz")]):t._e()],1)]}}])}),s("b-row",{staticClass:"mt-auto",attrs:{cols:"1","cols-md":"6"}},[s("b-col",[s("b-pagination",{staticClass:"pagination mt-auto px-2",attrs:{limit:"3","total-rows":t.course.sectionsCount,"per-page":t.perPage,align:"fill",size:"sm",pills:""},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)},g=[],v=s("5530"),C=(s("d81d"),{data:function(){return{page:1,perPage:5,sortBy:"createdAt",sortDesc:!0,fields:[{key:"title",label:"Title",tdClass:"text-left",thClass:"text-left"},{key:"lecturesCount",label:"Lectures Count"},{key:"hasQuiz",label:"Quiz",tdClass:"align-middle text-center",thClass:"text-center"},{key:"actions",label:"Actions",tdClass:"align-middle text-left",thClass:"text-center"}]}},computed:{course:function(){return this.$store.state.Course.detail},sections:function(){return this.course.sections.map((function(t){return Object(v["a"])(Object(v["a"])({},t),{},{lecturesBtnLoading:!1,_cellVariants:{hasQuiz:t.hasQuiz?"":"warning",lecturesCount:+t.lecturesCount>0?"":"danger"}})}))}},methods:{getLectures:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.lecturesBtnLoading=!0,s.prev=1,s.next=4,e.$store.dispatch("Course/getCourseDetailLectures",t._id);case 4:s.next=8;break;case 6:s.prev=6,s.t0=s["catch"](1);case 8:return s.prev=8,t.lecturesBtnLoading=!1,s.finish(8);case 11:case"end":return s.stop()}}),s,null,[[1,6,8,11]])})))()},showQuiz:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.dispatch("Quiz/getQuizDetail",t.quizId);case 3:s.next=8;break;case 5:s.prev=5,s.t0=s["catch"](0),console.log(s.t0);case 8:case"end":return s.stop()}}),s,null,[[0,5]])})))()}}}),x=C,_=Object(b["a"])(x,h,g,!1,null,"df071c32",null),y=_.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.section._id?s("b-card",{staticClass:"h-100",attrs:{"no-body":"",header:"Lectures section: "+t.section.title,"header-class":"h5 font-weight-bold"}},[s("b-table",{staticClass:"mb-3 text-center",attrs:{hover:"",responsive:"","sort-by":t.sortBy,"sort-desc":t.sortDesc,"per-page":t.perPage,"current-page":t.page,items:t.lectures,fields:t.fields,stacked:"md"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(title)",fn:function(e){return[t._v(" "+t._s(t._f("wordtruncate")(e.value,5))+" ")]}},{key:"cell(hasVideo)",fn:function(e){return[t._v(" "+t._s(e.value?"Yes":"No")+" ")]}},{key:"cell(hasQuiz)",fn:function(e){return[t._v(" "+t._s(e.value?"Yes":"No")+" ")]}},{key:"cell(actions)",fn:function(e){return[s("span",{staticClass:"w-50 d-inline-block text-left"},[s("b-overlay",{staticClass:"d-inline-block",attrs:{show:e.item.quizBtnLoading,rounded:"",opacity:"0.6",size:"sm","spinner-small":"","spinner-variant":"blue"}},[e.item.hasQuiz?s("b-btn",{attrs:{size:"sm",disabled:e.item.quizBtnLoading,variant:"outline-blue"},on:{click:function(s){return t.getQuiz(e.item)}}},[t._v(" Quiz ")]):t._e()],1)],1)]}}],null,!1,2638485095)}),s("b-row",{staticClass:"mt-auto",attrs:{cols:"1","cols-md":"6"}},[s("b-col",[s("b-pagination",{staticClass:"pagination mt-auto px-2",attrs:{limit:"3","total-rows":t.section.lecturesCount,"per-page":t.perPage,align:"fill",size:"sm",pills:""},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1):t._e()},k=[],D={data:function(){return{page:1,perPage:5,sortBy:"createdAt",sortDesc:!0,fields:[{key:"title",label:"Title",tdClass:"text-left",thClass:"text-left"},{key:"hasVideo",label:"Video"},{key:"hasQuiz",label:"Quiz",tdClass:"align-middle text-center",thClass:"text-center"},{key:"actions",label:"Actions",tdClass:"align-middle text-left",thClass:"text-center"}]}},computed:{section:function(){return this.$store.state.Course.oneSectionDetail},lectures:function(){return this.section.lectures.map((function(t){return Object(v["a"])(Object(v["a"])({},t),{},{quizBtnLoading:!1,_cellVariants:{hasQuiz:t.hasQuiz?"":"warning",hasVideo:t.hasVideo?"":"danger"}})}))}},methods:{getQuiz:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.quizBtnLoading=!0,s.prev=1,s.next=4,e.$store.dispatch("Course/getCourseDetailLectureQuiz",t._id);case 4:s.next=8;break;case 6:s.prev=6,s.t0=s["catch"](1);case 8:return s.prev=8,t.quizBtnLoading=!1,s.finish(8);case 11:case"end":return s.stop()}}),s,null,[[1,6,8,11]])})))()}}},z=D,$=Object(b["a"])(z,w,k,!1,null,"3a383067",null),L=$.exports,B={components:{DashboardLayout:i["a"],ReportCard:o["a"],CourseDetailStudents:f,CourseDetailSections:y,CourseDetailLectures:L},data:function(){return{namespace:"Course"}},mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$route.params.courseId){e.next=2;break}return e.abrupt("return",t.$router.push("/dashboard/courses"));case 2:Object(c["a"])(t.getCourseDetail,(function(e){if(e)return t.$router.push("/dashboard/courses");t.$store.commit("setLoader",!1)}));case 3:case"end":return e.stop()}}),e)})))()},computed:{course:function(){return this.$store.state.Course.detail}},methods:{getCourseDetail:function(){return this.$store.dispatch("Course/getCourseDetail",this.$route.params.courseId)}}},S=B,O=Object(b["a"])(S,a,r,!1,null,null,null);e["default"]=O.exports}}]);
//# sourceMappingURL=DashboardCourseDetail.64ae2aa2.js.map